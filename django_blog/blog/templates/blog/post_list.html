{% extends "blog/base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold mb-6">All Posts</h1>

    <!-- Create new post -->
    <div class="mb-6">
        <a href="{% url 'post_create' %}" 
           class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
            + New Post
        </a>
    </div>
    <div>
        <form action="{% url 'search_list' %}", method="get">
            <input type="text", name="q", placeholder="Find a post", aria-label="Search post">
            <button type="submit">Search</button>


        </form>









    </div>
    <!-- Posts List -->
     <div>Tags:{% for tags in tag_list %} 
        <a href="{% url "tag_view" tag_slug=tags.slug %}">{{tags.name}}</a>
        
        {%endfor%}</div>
    {% if object_list %}
        <div class="space-y-6">
<ul>
            {% for post in object_list %}
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <h2 class="text-2xl font-semibold">{{ post.title }}</h2>
                    <p class="text-gray-600 mt-2">{{ post.content|truncatewords:30 }}</p>

                    <div class="flex space-x-4 mt-4">
                        <!-- Edit -->
                        <a href="{% url 'post_update' post.pk %}" 
                           class="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600">
                            Edit
                        </a>

                        <!-- Delete -->
                        <a href="{% url 'post_delete' post.pk %}" 
                           class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700">
                            Delete
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-gray-500">No posts yet. <a href="{% url 'post_create' %}" class="text-blue-600 hover:underline">Create one?</a></p>
    {% endif %}
</div>
</ul>
{% endblock %}
